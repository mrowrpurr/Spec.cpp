<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Specs: ‚úèÔ∏è Writing Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script src="https://kit.fontawesome.com/7e8bd4fc02.js" crossorigin="anonymous"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Website Logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Specs
   </div>
   <div id="projectbrief">Beautiful C++ Test Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__documentation_2_writing_tests.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">‚úèÔ∏è Writing Tests</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md28">Creating a project</a><ul><li class="level2"><a href="#autotoc_md29">Entrypoint</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md30">Creating test files</a><ul><li class="level2"><a href="#autotoc_md31">Test file #define header</a><ul><li class="level3"><a href="#autotoc_md32">#define SPEC_CONTEXT</a></li>
<li class="level3"><a href="#autotoc_md33">#define SPEC_FILE</a></li>
<li class="level3"><a href="#autotoc_md34">#define SPEC_GROUP</a></li>
<li class="level3"><a href="#autotoc_md35">#define SPEC_TEMPLATE</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md36">Tests</a><ul><li class="level2"><a href="#autotoc_md37">Skipping Tests</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md38">Async Tests</a><ul><li class="level2"><a href="#autotoc_md39">Async timeout</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md40">Test assertions</a><ul><li class="level2"><a href="#autotoc_md41">Snowhouse assertions</a></li>
<li class="level2"><a href="#autotoc_md42">libassert assertions</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md43">Setup and Teardown</a><ul><li class="level2"><a href="#autotoc_md44">Asynchronous Setup and Teardown</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md45">Test Groups</a><ul><li class="level2"><a href="#autotoc_md46">Unique test group for each file</a></li>
<li class="level2"><a href="#autotoc_md47">Nesting child groups</a><ul><li class="level3"><a href="#autotoc_md48">TestGroup</a></li>
<li class="level3"><a href="#autotoc_md49">StartTestGroup / EndTestGroup</a></li>
<li class="level3"><a href="#autotoc_md50">Describe</a><ul><li class="level4"><a href="#autotoc_md51">Lambda syntax</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="autotoc_md27"></a></p>
<p>It's time to write your first tests!</p>
<blockquote class="doxtable">
<p>&zwj;<em>This assumes that you have completed the steps outlines in <a class="el" href="md__documentation_2_installing.html">Installing Specs</a></em> </p>
</blockquote>
<p>This page will cover:</p>
<ul>
<li>Creating a project</li>
<li>Creating test files</li>
<li>Defining tests with <code>Test</code> and <code>TestAsync</code></li>
<li>Defining setup and teardown code with <code>Setup</code> and <code>Teardown</code></li>
<li>Defining groups of tests with <code>TestGroup</code> and <code>Describe</code></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;For more detailed information on the syntax of the test files, see <a class="el" href="md__documentation_2_syntax_reference.html">Syntax Reference</a> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md28"></a>
Creating a project</h1>
<p>To create tests, you will need to either:</p><ul>
<li>Create a binary/executable project (<em>the tests will run when you run the executable</em>)</li>
<li>Create a shared library (<em>a separate <code>Specs.exe</code> test runner can load multiple shared libraries of tests</em>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
Entrypoint</h2>
<p>Create a new file named <code>main.cpp</code>.</p>
<p>Assuming you are creating a binary project, add the following code to <code>main.cpp</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_main_8h.html">Specs/Main.h</a>&gt;</span></div>
<div class="ttc" id="a_main_8h_html"><div class="ttname"><a href="_main_8h.html">Main.h</a></div></div>
</div><!-- fragment --><p>This will define the <code><a class="el" href="_main_8h.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> entrypoint for the executable.</p>
<p>If you are creating a shared library, add the following code to <code>main.cpp</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_shared_library_8h.html">Specs/SharedLibrary.h</a>&gt;</span></div>
<div class="ttc" id="a_shared_library_8h_html"><div class="ttname"><a href="_shared_library_8h.html">SharedLibrary.h</a></div></div>
</div><!-- fragment --><p>This will define the entrypoint function used by the <code>Specs</code> test loader, e.g. when loading one or more shared libraries of tests from a <code>Specs.exe</code> test runner.</p>
<blockquote class="doxtable">
<p>&zwj;To learn more about grouping specs into shared libraries, see <a class="el" href="md__documentation_2_shared_libraries.html">Shared Libraries</a> </p>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;üí° <b>Tip:</b> If you are using <code>snowhouse</code>, you should <code>#include &lt;<a class="el" href="_specs_8_snowhouse_2include_2_specs_2_snowhouse_2setup_8h.html">Specs/Snowhouse/Setup.h</a>&gt;</code> in your main binary or shared library <code>.cpp</code> file. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md30"></a>
Creating test files</h1>
<p>Now you are ready to define a file with one or more tests.</p>
<p>Create a new file named <code>MyFirstTests.cpp</code>.</p>
<p>Add the following code to <code>MyFirstTests.cpp</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP My_First_Tests</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Tests go here...</span></div>
</div><!-- fragment --><p>This defines a new group of tests with the description <code>"My First Tests"</code>.</p>
<p>Any tests defined in this file will be added to this group.</p>
<h2><a class="anchor" id="autotoc_md31"></a>
Test file #define header</h2>
<p>Every <code>.cpp</code> file containing tests must have one of these unique <code>#define</code> at the top of the file:</p>
<ul>
<li><code>#define SPEC_CONTEXT UNIQUE_NAME</code></li>
<li><code>#define SPEC_FILE UNIQUE_NAME</code></li>
<li><code>#define SPEC_GROUP UNIQUE_NAME</code></li>
<li><code>#define SPEC_TEMPLATE UNIQUE_NAME</code></li>
</ul>
<blockquote class="doxtable">
<p>&zwj;Note: lowercase versions of these <code>#define</code> are also supported:</p><ul>
<li><code>#define spec_context UNIQUE_NAME</code></li>
<li><code>#define spec_file UNIQUE_NAME</code></li>
<li><code>#define spec_group UNIQUE_NAME</code></li>
<li><code>#define spec_template UNIQUE_NAME</code> </li>
</ul>
</blockquote>
<h3><a class="anchor" id="autotoc_md32"></a>
#define SPEC_CONTEXT</h3>
<p>Using <code>#define spec_context UNIQUE_NAME</code> will ensure that the <code>Test</code>, <code>Setup</code>, <code>Teardown</code>, <code>etc</code> macros defined in this file do not conflict with macros defined in other files.</p>
<p>That's it, though. The content in your file might be added to a group of tests from <em>another file</em>, because <code>spec_context</code> does not define a group nor does it clear the currently active group.</p>
<p><b>Use of <code>SPEC_CONTEXT</code> is not recommended.</b></p>
<h3><a class="anchor" id="autotoc_md33"></a>
#define SPEC_FILE</h3>
<p>If you <code>#define spec_file UNIQUE_NAME</code>, then the tests in the file are added to a global group.</p>
<p>The tests (<em>and setup/teardown code</em>) in this file will be run for all tests.</p>
<p>This could be useful for defining global setup/teardown code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_FILE Global_Setup_Teardown</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a>() {</div>
<div class="line">    <span class="comment">// Global setup code goes here...</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a>() {</div>
<div class="line">    <span class="comment">// Global teardown code goes here...</span></div>
<div class="line">}</div>
<div class="ttc" id="a_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h_html_a5cba18a3777f6dcb45611cce54d9c765"><div class="ttname"><a href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a></div><div class="ttdeci">#define Setup</div><div class="ttdef"><b>Definition</b> Setup.h:5</div></div>
<div class="ttc" id="a_top_level_2teardown_8h_html_a681e4480b1c3df2b80d6d24721659b04"><div class="ttname"><a href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a></div><div class="ttdeci">#define Teardown</div><div class="ttdef"><b>Definition</b> Teardown.h:5</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md34"></a>
#define SPEC_GROUP</h3>
<p>If you <code>#define SPEC_GROUP UNIQUE_NAME</code>, then the tests in the file are added to a group with the description of <code>UNIQUE_NAME</code>.</p>
<blockquote class="doxtable">
<p>&zwj;<em>Note: underscores in <code>UNIQUE_NAME</code> are replaced with spaces in the description.</em> </p>
</blockquote>
<p>This is a good way to define a group of tests that are related to each other.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP My_Tests_About_Some_Feature</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Tests go here...</span></div>
</div><!-- fragment --><p>And, for example, in another file...</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP My_Tests_About_Another_Feature</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Tests go here...</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md35"></a>
#define SPEC_TEMPLATE</h3>
<p><code>Specs</code> supports defining templates.</p>
<blockquote class="doxtable">
<p>&zwj;To learn more about templates, see <a class="el" href="md__documentation_2_templates.html">Shared Code Templates</a></p>
<p><b>Note:</b> there are a variety of other ways to define templates, this this is the <code>#define</code> method. </p>
</blockquote>
<p>Templates are a way of defining <code>Setup</code> and <code>Teardown</code> and <code>Test</code> code that can be shared and reused by multiple test groups.</p>
<p>If you <code>#define SPEC_TEMPLATE UNIQUE_NAME</code>, then the tests in the file are added to a template with the description of <code>UNIQUE_NAME</code>.</p>
<blockquote class="doxtable">
<p>&zwj;<em>Note: underscores in <code>UNIQUE_NAME</code> are replaced with spaces in the description.</em> </p>
</blockquote>
<p>This is a good way to define a template that can be used by multiple test groups.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_TEMPLATE My_Shared_Setup_And_Teardown</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a>() {</div>
<div class="line">    <span class="comment">// Shared setup code goes here...</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a>() {</div>
<div class="line">    <span class="comment">// Shared teardown code goes here...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>And then, in another test file...</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP My_Tests_About_Some_Feature</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This imports the shared Setup/Teardown/etc into this group</span></div>
<div class="line"><a class="code hl_define" href="_use_template_8h.html#a32cd46f9c57ff2913ecdbbc5c4d0d05b">UseTemplate</a>(<span class="stringliteral">&quot;My Shared Setup And Teardown&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Tests go here...</span></div>
<div class="ttc" id="a_use_template_8h_html_a32cd46f9c57ff2913ecdbbc5c4d0d05b"><div class="ttname"><a href="_use_template_8h.html#a32cd46f9c57ff2913ecdbbc5c4d0d05b">UseTemplate</a></div><div class="ttdeci">#define UseTemplate(templateName)</div><div class="ttdef"><b>Definition</b> UseTemplate.h:5</div></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;‚ö†Ô∏è <b>WARNING:</b> If you define a template like this in a <code>.cpp</code> file, you <b>must</b> include it in your build project <b>before</b> your tests.</p>
<p>For example, with <code>xmake</code> <code>add_files</code> or <code>CMake</code> in your <code>add_executable</code>, be sure to include the template file <b>before</b> the test files.</p>
<p>Otherwise, the templates will not exist at the time <code><a class="el" href="_use_template_8h.html#a32cd46f9c57ff2913ecdbbc5c4d0d05b">UseTemplate()</a></code> is used.</p>
<p>To see other ways of defining templates (e.g. in <code>.h</code> header files), see <a class="el" href="md__documentation_2_templates.html">Shared Code Templates</a> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md36"></a>
Tests</h1>
<p>Creating tests is easy!</p>
<p>Each test simply needs a description and a body.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
<div class="ttc" id="a_top_level_2test_8h_html_aa73c0e1a19248bc75f44b13b45e890ee"><div class="ttname"><a href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a></div><div class="ttdeci">#define Test(description)</div><div class="ttdef"><b>Definition</b> Test.h:5</div></div>
</div><!-- fragment --><p>That's it!</p>
<h2><a class="anchor" id="autotoc_md37"></a>
Skipping Tests</h2>
<p>If you would like to skip a test, e.g. temporarily, you can mark it with <code><a class="el" href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip()</a></code>.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip</a>();</div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
<div class="ttc" id="a_top_level_2skip_8h_html_a3122df7e507cbbe3d95c9e97777f8362"><div class="ttname"><a href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip</a></div><div class="ttdeci">#define Skip()</div><div class="ttdef"><b>Definition</b> Skip.h:5</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md38"></a>
Async Tests</h1>
<p>Creating tests with long-running code is just as easy!</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_test_async_8h.html#a55cf16f340096b7ce195f305e8297853">TestAsync</a>(<span class="stringliteral">&quot;Test Something Async!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Once your code is done, call `done()` to mark the test as finished.</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="ttc" id="a_test_async_8h_html_a55cf16f340096b7ce195f305e8297853"><div class="ttname"><a href="_test_async_8h.html#a55cf16f340096b7ce195f305e8297853">TestAsync</a></div><div class="ttdeci">#define TestAsync(description)</div><div class="ttdef"><b>Definition</b> TestAsync.h:5</div></div>
</div><!-- fragment --><p>If an async test does not call <code>done()</code> within a configurable timeout, the test will fail with a timeout error.</p>
<h2><a class="anchor" id="autotoc_md39"></a>
Async timeout</h2>
<p>You can override the default timeout milliseconds using <code>SetTimeout</code>.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_set_timeout_8h.html#a7dbb7bab833359e6e772aeaacf712dc3">SetTimeout</a>(5000)</div>
<div class="line"><a class="code hl_define" href="_test_async_8h.html#a55cf16f340096b7ce195f305e8297853">TestAsync</a>(&quot;<a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a> Something Async!&quot;) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Once your code is done, call `done()` to mark the test as finished.</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="ttc" id="a_set_timeout_8h_html_a7dbb7bab833359e6e772aeaacf712dc3"><div class="ttname"><a href="_set_timeout_8h.html#a7dbb7bab833359e6e772aeaacf712dc3">SetTimeout</a></div><div class="ttdeci">#define SetTimeout(valueMs)</div><div class="ttdef"><b>Definition</b> SetTimeout.h:5</div></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;‚ÑπÔ∏è Default timeout milliseconds can be configured via the <code>-t/--timeout</code> option </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md40"></a>
Test assertions</h1>
<p>Tests aren't particularly useful without assertions!</p>
<p><code>Specs</code> provides built-in support for catching exceptions thrown during test execution.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (1 != 2)</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="stringliteral">&quot;Expected 1 to equal 2!&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">[FAILED] Test Something!</div>
<div class="line"> </div>
<div class="line">Expected 1 to equal 2!</div>
<div class="line"> </div>
<div class="line">1 failed</div>
</div><!-- fragment --><p>Any exceptions thrown during test execution will be caught and reported as a failure.</p>
<p>The following exception types have special handling:</p>
<ul>
<li><code>std::exception</code> (<em>and derived types</em>)<ul>
<li>The <code>what()</code> message is reported as the failure message</li>
</ul>
</li>
<li>C strings (<code>const char*</code>)<ul>
<li>The string is reported as the failure message</li>
</ul>
</li>
</ul>
<p>Any other exception types will be reported as a failure with a basic message like <code>Unknown exception</code>.</p>
<p>It is recommended to use <code>Specs</code> with an assertion library, such as <code>snowhouse</code> or <code>libassert</code>.</p>
<h2><a class="anchor" id="autotoc_md41"></a>
Snowhouse assertions</h2>
<blockquote class="doxtable">
<p>&zwj;For instructions on installing <code>snowhouse</code> with the <code>Specs</code> adapter, see <a class="el" href="md__documentation_2_installing.html">Installing Specs</a></p>
<p><b>Reminder:</b> your <code>main.cpp</code> needs to include <code>&lt;<a class="el" href="_specs_8_snowhouse_2include_2_specs_2_snowhouse_2setup_8h.html">Specs/Snowhouse/Setup.h</a>&gt;</code> to enable the <code>snowhouse</code> adapter. </p>
</blockquote>
<p>When the <code>Specs</code> adapter for <code>snowhouse</code> is included, you can use <code>snowhouse</code> assertions in your tests.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_snowhouse_8h.html">Specs/Snowhouse.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    AssertThat(69, Equals(420));</div>
<div class="line">}</div>
<div class="ttc" id="a_snowhouse_8h_html"><div class="ttname"><a href="_snowhouse_8h.html">Snowhouse.h</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line">[FAILED] Test Something!</div>
<div class="line"> </div>
<div class="line">Expected: equal to 420</div>
<div class="line">Actual: 69</div>
<div class="line"> </div>
<div class="line">[Test.cpp:5] AssertThat(69, Equals(420));</div>
<div class="line"> </div>
<div class="line">1 failed</div>
</div><!-- fragment --><p>Failed <code>snowhouse</code> assertions will be reported as failures, including:</p><ul>
<li>The snowhouse assertion failure message</li>
<li>The file and line number where the assertion failed</li>
<li>A preview of the line of code responsible for the assertion</li>
</ul>
<h2><a class="anchor" id="autotoc_md42"></a>
libassert assertions</h2>
<blockquote class="doxtable">
<p>&zwj;For instructions on installing <code>libassert</code> with the <code>Specs</code> adapter, see <a class="el" href="md__documentation_2_installing.html">Installing Specs</a></p>
<p><b>Reminder:</b> the <code>assert()</code> macro does not work in <code>release</code> mode. Recommended: use <code>assert_that</code> instead. </p>
</blockquote>
<p>When the <code>Specs</code> adapter for <code>libassert</code> is included, you can use <code>libassert</code> assertions in your tests.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_lib_assert_8h.html">Specs/LibAssert.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <a class="code hl_define" href="assert__that_8h.html#a9aba65c1e5a08d6727d63fa1b4b50adc">assert_that</a>(69 == 420);</div>
<div class="line">}</div>
<div class="ttc" id="a_lib_assert_8h_html"><div class="ttname"><a href="_lib_assert_8h.html">LibAssert.h</a></div></div>
<div class="ttc" id="aassert__that_8h_html_a9aba65c1e5a08d6727d63fa1b4b50adc"><div class="ttname"><a href="assert__that_8h.html#a9aba65c1e5a08d6727d63fa1b4b50adc">assert_that</a></div><div class="ttdeci">#define assert_that(...)</div><div class="ttdef"><b>Definition</b> assert_that.h:5</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">[FAILED] Test Something!</div>
<div class="line"> </div>
<div class="line">Verification failed at FooTest.cpp:5: void __cdecl __globalMacroFunctions__function___SPEC_TEST__DefaultCompilationUnit_0(SpecsCpp::ISpec *):</div>
<div class="line">    VERIFY(69 == 420);</div>
<div class="line"> </div>
<div class="line">1 failed</div>
</div><!-- fragment --><p>Failed <code>libassert</code> assertions will be reported as failures, including:</p><ul>
<li>The file and line number where the assertion failed</li>
<li>A preview of the line of code responsible for the assertion</li>
</ul>
<h1><a class="anchor" id="autotoc_md43"></a>
Setup and Teardown</h1>
<p>Every test group supports the following:</p>
<ul>
<li><code>Setup</code>: Runs before each test in the group</li>
<li><code>Teardown</code>: Runs after each test in the group</li>
<li><code>OneTimeSetup</code>: Runs once before the first test in the group</li>
<li><code>OneTimeTeardown</code>: Runs once after the last test in the group</li>
</ul>
<p>Test groups can define as many of each of these as desired.</p>
<p>If you nest test groups, this is the order of operations:</p>
<ul>
<li>The <code>OneTimeSetup</code> of the outermost group is run</li>
<li>The <code>OneTimeSetup</code> of each nested group is run</li>
<li>The <code>Setup</code> of the outermost group is run</li>
<li>The <code>Setup</code> of each nested group is run</li>
<li>The <code>Test</code> of each nested group is run</li>
<li>The <code>Teardown</code> of each nested group is run</li>
<li>The <code>Teardown</code> of the outermost group is run</li>
<li>The <code>OneTimeTeardown</code> of each nested group is run</li>
</ul>
<p>If any <code>Setup</code> fails:</p>
<ul>
<li>the rest of the <code>Setup</code> in that group are skipped</li>
<li>the <code>Test</code> in that group is skipped</li>
<li>the <code>Teardown</code> are still all executed</li>
<li>if this <code>Setup</code> is in a nested group, the <code>Teardown</code> of the outermost group are still executed</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line">OneTimeSetup { <span class="comment">/* This runs once before the first test in this group */</span> }</div>
<div class="line"> </div>
<div class="line">OneTimeTeardown { <span class="comment">/* This runs once after the last test in this group */</span> }</div>
<div class="line">OneTimeTeardown { <span class="comment">/* More stuff to teardown after the group has run */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* This runs before each test in this group */</span> }</div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* This ALSO runs before each test in this group */</span> }</div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* You can have as many of these as you like */</span> }</div>
<div class="line"> </div>
<div class="line">TearDown { <span class="comment">/* This runs after each test in this group */</span> }</div>
<div class="line"><a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a> { <span class="comment">/* You can have as many of these as you like too */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md44"></a>
Asynchronous Setup and Teardown</h2>
<p>All of the setup and teardown macros support Asynchronous code:</p>
<ul>
<li><code>SetupAsync</code></li>
<li><code>TeardownAsync</code></li>
<li><code>OneTimeSetupAsync</code></li>
<li><code>OneTimeTeardownAsync</code></li>
</ul>
<p>These work identically to <code>TestAsync</code>, which must call <code>done()</code> to mark the setup/teardown as finished.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line">OneTimeSetupAsync {</div>
<div class="line">    <span class="comment">// Async setup code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">OneTimeTeardownAsync {</div>
<div class="line">    <span class="comment">// Async teardown code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_setup_async_8h.html#a72b3ca81f0df62c54c095dd8fe4cf0f5">SetupAsync</a> {</div>
<div class="line">    <span class="comment">// Async setup code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_teardown_async_8h.html#a5843afae630c9773fbd3c715255d8dcf">TeardownAsync</a> {</div>
<div class="line">    <span class="comment">// Async teardown code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test Something!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_test_async_8h.html#a55cf16f340096b7ce195f305e8297853">TestAsync</a>(<span class="stringliteral">&quot;Test Something Async!&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="ttc" id="a_setup_async_8h_html_a72b3ca81f0df62c54c095dd8fe4cf0f5"><div class="ttname"><a href="_setup_async_8h.html#a72b3ca81f0df62c54c095dd8fe4cf0f5">SetupAsync</a></div><div class="ttdeci">#define SetupAsync</div><div class="ttdef"><b>Definition</b> SetupAsync.h:5</div></div>
<div class="ttc" id="a_teardown_async_8h_html_a5843afae630c9773fbd3c715255d8dcf"><div class="ttname"><a href="_teardown_async_8h.html#a5843afae630c9773fbd3c715255d8dcf">TeardownAsync</a></div><div class="ttdeci">#define TeardownAsync</div><div class="ttdef"><b>Definition</b> TeardownAsync.h:5</div></div>
</div><!-- fragment --><p>Just like <code>TestAsync</code>, if an async setup/teardown does not call <code>done()</code> within a configurable timeout, the test will fail with a timeout error.</p>
<p>Just like <code>TestAsync</code>, you can override the default timeout milliseconds using <code>SetTimeout</code>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_set_timeout_8h.html#a7dbb7bab833359e6e772aeaacf712dc3">SetTimeout</a>(30000)</div>
<div class="line">OneTimeSetupAsync {</div>
<div class="line">    <span class="comment">// Async setup code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_set_timeout_8h.html#a7dbb7bab833359e6e772aeaacf712dc3">SetTimeout</a>(100)</div>
<div class="line">OneTimeTeardownAsync {</div>
<div class="line">    <span class="comment">// Async teardown code goes here...</span></div>
<div class="line">    done();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ... SetTimeout() works for all async setup/teardown macros ...</span></div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;‚ÑπÔ∏è Default timeout milliseconds can be configured via the <code>-t/--timeout</code> option </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md45"></a>
Test Groups</h1>
<p>Grouping your tests is a critical part of writing tests.</p>
<p>It is recommended to use <code>#define SPEC_GROUP UNIQUE_NAME</code> to define a group for each <code>.cpp</code> file containing tests.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Unique test group for each file</h2>
<p><code>TestsOne.cpp</code></p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP Tests_One</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test 1&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><code>TestsTwo.cpp</code></p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP Tests_Two</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test 2&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test code and assertions go here...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>In the above code:</p>
<ul>
<li><code>Tests_One</code> is a defined as a group containing one test named <code>Test 1</code></li>
<li><code>Tests_Two</code> is a defined as a group containing one test named <code>Test 2</code></li>
</ul>
<p>This works great, but what if you want to group your tests into sub-groups?</p>
<h2><a class="anchor" id="autotoc_md47"></a>
Nesting child groups</h2>
<p>Once you need to define sub-groups, there are a few different syntax styles to choose from:</p>
<ol type="1">
<li><code>TestGroup</code> defines a new top-level group (<em>within the file group defined via spec_name</em>)</li>
<li><code>StartTestGroup</code>/<code>EndTestGroup</code> define nested groups</li>
<li><code>Describe</code> defines a nested group and child tests/groups/setups/teardowns are defined using a lambda syntax</li>
</ol>
<h3><a class="anchor" id="autotoc_md48"></a>
TestGroup</h3>
<blockquote class="doxtable">
<p>&zwj;<b>Recommended usage</b></p>
<ul>
<li>Use <code>TestGroup</code> when you do not need nested groups <br  />
 (<em>i.e. you only need one level of groups</em>) </li>
</ul>
</blockquote>
<ul>
<li><code>TestGroup("Group Name")</code> defines a new top-level group<ul>
<li>If <code>#define SPEC_GROUP</code> is used, this group is a child of the group defined by <code>SPEC_GROUP</code><ul>
<li>To avoid the creation of the <code>SPEC_GROUP</code>, use <code>#define SPEC_FILE</code> instead of <code>#define SPEC_GROUP</code></li>
</ul>
</li>
</ul>
</li>
<li>Every <code>TestGroup</code> is a peer of every other <code>TestGroup</code> defined in the file<ul>
<li><code>TestGroup</code> cannot be nested</li>
<li>For nesting groups, use <code>StartTestGroup</code>/<code>EndTestGroup</code> or <code>Describe</code></li>
</ul>
</li>
<li><code>TestGroup("Group Name")</code> can be used multiple times to define multiple top-level groups</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP Tests_One</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Anything up here will be part of the &quot;Tests One&quot; group</span></div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code that runs for every test in this file... */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_test_group_8h.html#a2f606580183a00e9b8323171a0916afc">TestGroup</a>(<span class="stringliteral">&quot;Child Group&quot;</span>)</div>
<div class="line"><span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line"><span class="comment">// [Tests One] &gt; [Child Group] group</span></div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code goes here... */</span> }</div>
<div class="line"><a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a> { <span class="comment">/* Teardown code goes here... */</span> }</div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test something&quot;</span>) { <span class="comment">/* Test code goes here... */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_test_group_8h.html#a2f606580183a00e9b8323171a0916afc">TestGroup</a>(<span class="stringliteral">&quot;Different Group&quot;</span>)</div>
<div class="line"><span class="comment">// ^ this OVERRIDES the previous TestGroup() definition</span></div>
<div class="line"><span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line"><span class="comment">// [Tests One] &gt; [Different Group] group</span></div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code goes here... */</span> }</div>
<div class="line"><a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a> { <span class="comment">/* Teardown code goes here... */</span> }</div>
<div class="line"><a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test something else&quot;</span>) { <span class="comment">/* Test code goes here... */</span> }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// TestGroup() supports Skip()</span></div>
<div class="line"><a class="code hl_define" href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip</a>();</div>
<div class="line"><a class="code hl_define" href="_test_group_8h.html#a2f606580183a00e9b8323171a0916afc">TestGroup</a>(<span class="stringliteral">&quot;Skipped Group&quot;</span>)</div>
<div class="line"><span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="ttc" id="a_test_group_8h_html_a2f606580183a00e9b8323171a0916afc"><div class="ttname"><a href="_test_group_8h.html#a2f606580183a00e9b8323171a0916afc">TestGroup</a></div><div class="ttdeci">#define TestGroup(description)</div><div class="ttdef"><b>Definition</b> TestGroup.h:5</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md49"></a>
StartTestGroup / EndTestGroup</h3>
<blockquote class="doxtable">
<p>&zwj;<b>Recommended usage</b></p>
<ul>
<li>Use <code>StartTestGroup</code>/<code>EndTestGroup</code> when you need nested groups <br  />
 (<em>i.e. you need more than one level of groups</em>)</li>
<li>You could also use this instead of <code>TestGroup</code> if you prefer the nested <code>{ ... }</code> syntax </li>
</ul>
</blockquote>
<ul>
<li><code>StartTestGroup("Group Name")</code> defines a new nested group<ul>
<li>If <code>#define SPEC_GROUP</code> is used, this group is a child of the group defined by <code>SPEC_GROUP</code><ul>
<li>To avoid the creation of the <code>SPEC_GROUP</code>, use <code>#define SPEC_FILE</code> instead of <code>#define SPEC_GROUP</code></li>
</ul>
</li>
</ul>
</li>
<li><code><a class="el" href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup()</a></code> ends the current nested group<ul>
<li>Do not forget to call <code><a class="el" href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup()</a></code>!</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP Tests_One</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Anything up here will be part of the &quot;Tests One&quot; group</span></div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code that runs for every test in this file... */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_start_test_group_8h.html#a746b468d19fc04a515e3da909abac56b">StartTestGroup</a>(<span class="stringliteral">&quot;Child Group&quot;</span>) {</div>
<div class="line">    <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">    <span class="comment">// [Tests One] &gt; [Child Group] group</span></div>
<div class="line">    <a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code goes here... */</span> }</div>
<div class="line">    <a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a> { <span class="comment">/* Teardown code goes here... */</span> }</div>
<div class="line">    <a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test something&quot;</span>) { <span class="comment">/* Test code goes here... */</span> }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="_start_test_group_8h.html#a746b468d19fc04a515e3da909abac56b">StartTestGroup</a>(<span class="stringliteral">&quot;Different Group&quot;</span>) {</div>
<div class="line">        <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">        <span class="comment">// [Tests One] &gt; [Child Group] &gt; [Different Group] group</span></div>
<div class="line">        <a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code goes here... */</span> }</div>
<div class="line">        <a class="code hl_define" href="_top_level_2teardown_8h.html#a681e4480b1c3df2b80d6d24721659b04">Teardown</a> { <span class="comment">/* Teardown code goes here... */</span> }</div>
<div class="line">        <a class="code hl_define" href="_top_level_2test_8h.html#aa73c0e1a19248bc75f44b13b45e890ee">Test</a>(<span class="stringliteral">&quot;Test something else&quot;</span>) { <span class="comment">/* Test code goes here... */</span> }</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_define" href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup</a>();</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"><a class="code hl_define" href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// StartTestGroup() supports Skip()</span></div>
<div class="line"><a class="code hl_define" href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip</a>();</div>
<div class="line"><a class="code hl_define" href="_start_test_group_8h.html#a746b468d19fc04a515e3da909abac56b">StartTestGroup</a>(<span class="stringliteral">&quot;Skipped Group&quot;</span>) {</div>
<div class="line">    <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_define" href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup</a>();</div>
<div class="ttc" id="a_end_test_group_8h_html_a94427869efc5da0f2e622efa775fa6f5"><div class="ttname"><a href="_end_test_group_8h.html#a94427869efc5da0f2e622efa775fa6f5">EndTestGroup</a></div><div class="ttdeci">#define EndTestGroup()</div><div class="ttdef"><b>Definition</b> EndTestGroup.h:5</div></div>
<div class="ttc" id="a_start_test_group_8h_html_a746b468d19fc04a515e3da909abac56b"><div class="ttname"><a href="_start_test_group_8h.html#a746b468d19fc04a515e3da909abac56b">StartTestGroup</a></div><div class="ttdeci">#define StartTestGroup(description)</div><div class="ttdef"><b>Definition</b> StartTestGroup.h:5</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md50"></a>
Describe</h3>
<blockquote class="doxtable">
<p>&zwj;<b>Recommended usage</b></p>
<ul>
<li>Use <code>Describe</code> when you need nested groups and prefer to use the lambda syntax </li>
</ul>
</blockquote>
<ul>
<li><code>Describe("Group Name")</code> defines a new nested group<ul>
<li>If <code>#define SPEC_GROUP</code> is used, this group is a child of the group defined by <code>SPEC_GROUP</code><ul>
<li>To avoid the creation of the <code>SPEC_GROUP</code>, use <code>#define SPEC_FILE</code> instead of <code>#define SPEC_GROUP</code></li>
</ul>
</li>
</ul>
</li>
<li>Only lambda variants of <code>test</code>/<code>setup</code>/<code>teardown</code> can be used inside of a <code>Describe</code> block</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define SPEC_GROUP Tests_One</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;Specs.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Anything up here will be part of the &quot;Tests One&quot; group</span></div>
<div class="line"><a class="code hl_define" href="_specs_8_d_s_ls_2include_2_specs_2_d_s_ls_2_top_level_2setup_8h.html#a5cba18a3777f6dcb45611cce54d9c765">Setup</a> { <span class="comment">/* Setup code that runs for every test in this file... */</span> }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a>(<span class="stringliteral">&quot;Child Group&quot;</span>) {</div>
<div class="line">    <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">    <span class="comment">// [Tests One] &gt; [Child Group] group</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* ONLY LAMBDA FUNCTIONS CAN BE USED INSIDE OF A DESCRIBE BLOCK! */</span></div>
<div class="line"> </div>
<div class="line">    setup([](){ <span class="comment">/* Setup code goes here... */</span> });</div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ad5d1e9ba206d4f0ecc5d8e1dc41b7c55">teardown</a>([](){ <span class="comment">/* Teardown code goes here... */</span> });</div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something&quot;</span>, [](){ <span class="comment">/* Test code goes here... */</span> });</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Inside of a &#39;Describe&#39; block,</span></div>
<div class="line">    <span class="comment">// you must use the lambda syntax to define tests/groups/setups/teardowns</span></div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ab1c45713d4d86b5d6cea5999e035b64b">describe</a>(<span class="stringliteral">&quot;Different Group&quot;</span>, [](){</div>
<div class="line">        <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">        <span class="comment">// [Tests One] &gt; [Child Group] &gt; [Different Group] group</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#afc08501c21b8d391a0caf7a7e2222407">setup</a>([](){ <span class="comment">/* Setup code goes here... */</span> });</div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ad5d1e9ba206d4f0ecc5d8e1dc41b7c55">teardown</a>([](){ <span class="comment">/* Teardown code goes here... */</span> });</div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something else&quot;</span>, [](){ <span class="comment">/* Test code goes here... */</span> });</div>
<div class="line">    });</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Describe() supports Skip()</span></div>
<div class="line"><a class="code hl_define" href="_top_level_2skip_8h.html#a3122df7e507cbbe3d95c9e97777f8362">Skip</a>();</div>
<div class="line"><a class="code hl_define" href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a>(<span class="stringliteral">&quot;Skipped Group&quot;</span>) {</div>
<div class="line">    <span class="comment">// Any Setup/Teardown/Test defined here will be added to the:</span></div>
<div class="line">}</div>
<div class="ttc" id="a_top_level_2describe_8h_html_a1e7ceb35b4641f8f90e1123804f60ab6"><div class="ttname"><a href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a></div><div class="ttdeci">#define Describe(description)</div><div class="ttdef"><b>Definition</b> Describe.h:5</div></div>
<div class="ttc" id="anamespace_specs_cpp_1_1_d_s_ls_1_1_functions_html_a7953bb0f562f8e0aecf8c394fcaa7bdf"><div class="ttname"><a href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">SpecsCpp::DSLs::Functions::test</a></div><div class="ttdeci">void test(std::string_view description, std::function&lt; void()&gt; body)</div><div class="ttdef"><b>Definition</b> test.h:12</div></div>
<div class="ttc" id="anamespace_specs_cpp_1_1_d_s_ls_1_1_functions_html_ab1c45713d4d86b5d6cea5999e035b64b"><div class="ttname"><a href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ab1c45713d4d86b5d6cea5999e035b64b">SpecsCpp::DSLs::Functions::describe</a></div><div class="ttdeci">void describe(std::string_view description, std::function&lt; void()&gt; body)</div><div class="ttdef"><b>Definition</b> describe.h:9</div></div>
<div class="ttc" id="anamespace_specs_cpp_1_1_d_s_ls_1_1_functions_html_ad5d1e9ba206d4f0ecc5d8e1dc41b7c55"><div class="ttname"><a href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ad5d1e9ba206d4f0ecc5d8e1dc41b7c55">SpecsCpp::DSLs::Functions::teardown</a></div><div class="ttdeci">void teardown(std::function&lt; void()&gt; body)</div><div class="ttdef"><b>Definition</b> teardown.h:12</div></div>
<div class="ttc" id="anamespace_specs_cpp_1_1_d_s_ls_1_1_functions_html_afc08501c21b8d391a0caf7a7e2222407"><div class="ttname"><a href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#afc08501c21b8d391a0caf7a7e2222407">SpecsCpp::DSLs::Functions::setup</a></div><div class="ttdeci">void setup(std::function&lt; void()&gt; body)</div><div class="ttdef"><b>Definition</b> setup.h:12</div></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md51"></a>
Lambda syntax</h4>
<p>The lambda syntax is used to define tests/groups/setups/teardowns inside of a <code>Describe</code> block.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a>(<span class="stringliteral">&quot;Something Cool&quot;</span>) {</div>
<div class="line">    setup([](){ <span class="comment">/* Setup code goes here... */</span> });</div>
<div class="line">    teardown([](){ <span class="comment">/* Teardown code goes here... */</span> });</div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something&quot;</span>, [](){ <span class="comment">/* Test code goes here... */</span> });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ab1c45713d4d86b5d6cea5999e035b64b">describe</a>(<span class="stringliteral">&quot;Some Nested Feature Group&quot;</span>, [](){</div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#afc08501c21b8d391a0caf7a7e2222407">setup</a>([](){ <span class="comment">/* Setup code goes here... */</span> });</div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#ad5d1e9ba206d4f0ecc5d8e1dc41b7c55">teardown</a>([](){ <span class="comment">/* Teardown code goes here... */</span> });</div>
<div class="line">        <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something else&quot;</span>, [](){ <span class="comment">/* Test code goes here... */</span> });</div>
<div class="line">    });</div>
<div class="line">}</div>
</div><!-- fragment --><p><a class="anchor" id="autotoc_md52"></a> </p><h5>Async lambda syntax</h5>
<p>To create an async test/setup/teardown, your lambda should accept a <code>done</code> parameter.</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a>(<span class="stringliteral">&quot;Something Cool&quot;</span>) {</div>
<div class="line">    setup([](<span class="keyword">auto</span> done){</div>
<div class="line">        <span class="comment">/* Setup code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    teardown([](<span class="keyword">auto</span> done){</div>
<div class="line">        <span class="comment">/* Teardown code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something&quot;</span>, [](<span class="keyword">auto</span> done){</div>
<div class="line">        <span class="comment">/* Test code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line">}</div>
</div><!-- fragment --><p>You can use <code>auto done</code> or you can use <code>SpecDone done</code> *</p>
<blockquote class="doxtable">
<p>&zwj;<em>Some IDEs do not support intellisense of <code>auto</code> lambda parameters, so use <code>SpecDone</code> if desired.</em> </p>
</blockquote>
<div class="fragment"><div class="line"><a class="code hl_define" href="_top_level_2describe_8h.html#a1e7ceb35b4641f8f90e1123804f60ab6">Describe</a>(<span class="stringliteral">&quot;Something Cool&quot;</span>) {</div>
<div class="line">    setup([](<a class="code hl_class" href="class_specs_cpp_1_1_spec_done.html">SpecDone</a> done){</div>
<div class="line">        <span class="comment">/* Setup code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    teardown([](<a class="code hl_class" href="class_specs_cpp_1_1_spec_done.html">SpecDone</a> done){</div>
<div class="line">        <span class="comment">/* Teardown code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="namespace_specs_cpp_1_1_d_s_ls_1_1_functions.html#a7953bb0f562f8e0aecf8c394fcaa7bdf">test</a>(<span class="stringliteral">&quot;Test something&quot;</span>, [](<a class="code hl_class" href="class_specs_cpp_1_1_spec_done.html">SpecDone</a> done){</div>
<div class="line">        <span class="comment">/* Test code goes here... */</span></div>
<div class="line">        done();</div>
<div class="line">    });</div>
<div class="line">}</div>
<div class="ttc" id="aclass_specs_cpp_1_1_spec_done_html"><div class="ttname"><a href="class_specs_cpp_1_1_spec_done.html">SpecsCpp::SpecDone</a></div><div class="ttdef"><b>Definition</b> SpecDone.h:7</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&lt3 Mrowr Purr</li>
  </ul>
</div>
</body>
</html>
